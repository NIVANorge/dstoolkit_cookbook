# "Cookbook" for the Data Science Toolkit

Useful scripts and notebooks for NIVA's Data Science Toolkit.

The easiest way to explore these examples is to **clone this repository to your JupyterHub** and **run the notebooks interactively**. 

## Accessing NIVA datasets (Nivadatabasen/Aquamonitor, data in nivacloud etc.)

 * **[Aquamonitor-Python](https://nbviewer.jupyter.org/github/NIVANorge/Aquamonitor-Python/blob/master/examples/query_chem.ipynb)**. Query project-specific water chemistry data directly to Pandas dataframes using the Aquamonitor API
 
 * **[AquamonitR](https://nbviewer.jupyter.org/github/NIVANorge/aquamonitR/blob/main/examples/query_chem.ipynb)**. Query project-specific water chemistry data directly to R dataframes using the Aquamonitor API (an R equivalent of the Aquamonitor-Python package) 
 
 * **[Accessing FerryBox data using pyniva](https://nbviewer.jupyter.org/github/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/pyniva_example.ipynb)**. *Contributed by Zofia Rudjord*. Query and plot FerryBox data from **nivacloud** using the **pyniva** API. A more extensive example from Dag Hjermann is [also available](https://nbviewer.jupyter.org/github/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/pyniva_download_ferrybox.ipynb)
 
## External data sources

 * See **Tutorial 4 (`04_Accessing_Data.ipynb`)** in the `dstoolkit_examples/tutorials` folder on the Hub itself for details of how to access data via Met.no's [Frost API](https://frost.met.no/index.html) and [Thredds server](https://thredds.met.no/thredds/catalog.html), as well as European data hosted by [Copernicus](https://cds.climate.copernicus.eu/cdsapp#!/search?type=dataset) (via the [cdsapi](https://cds.climate.copernicus.eu/api-how-to)).

 * **[Using NVE's Hydrological API](https://nbviewer.jupyter.org/github/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/nve_hydapi_example.ipynb)**. Create an API key and query NVE data directly from the JupyterHub
 
## GIS/spatial data

 * See **Tutorial 3 (`03_Basic_Spatial_Analysis.ipynb`)** in the `dstoolkit_examples/tutorials` folder on the Hub itself for a basic overview of spatial data analysis and visualisation
 
 * See **Tutorial 10 (`10_Working_With_netCDFs.ipynb`)** in the `dstoolkit_examples/tutorials` folder on the Hub itself for an introduction to netCDF processing

 * **[Introduction to querying spatial data via the DSToolkit](https://nbviewer.jupyter.org/github/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/postgis_example.ipynb)**. Connecting to the JupyterHub's PostGIS database and exploring available datasets
 
 * **[Create GIS data package](https://nbviewer.jupyter.org/github/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/create_gis_package.ipynb)**. Extract a list of layers for your area of interest and create a single data package that you can download for use in e.g. desktop GIS
 
 * **[Catchment processing](https://nbviewer.jupyter.org/github/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/catchment_processing_example.ipynb)**. Query catchment boundaries from the Hub's PostGIS database and combine them with other vector and raster data sources
 
 * **[DEM processing](https://nbviewer.jupyter.org/github/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/dem_processing.ipynb)**. Calculate hillshade, slope and aspect maps using GDAL. Explore terrain properties and extract data based on masks

## Statistics

 * See **Tutorial 2 (`02_Water_Quality_Time_Series.ipynb`)** in the `dstoolkit_examples/tutorials` folder on the Hub itself for examples of simple **non-parametric tests for trends** (Sen's slope and Mann-Kendall) using NivaPy

 * **[Estimating riverine fluxes using different methods](https://nbviewer.jupyter.org/github/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/estimating_river_fluxes.ipynb)**. NivaPy includes four methods for estimating riverine fluxes. This notebook uses a synthetic dataset to explore their properties
 
  * **[Simple linear regression](https://nbviewer.org/github/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/simple_linear_regression.ipynb)**. OLS and Sen's slope

## Miscellaneous

 * **[Authentication using GitHub](https://github.com/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/github_auth.md)**. Configure Git to access private GitHub repositories
 
 * **[Debugging in JupyterLab](https://github.com/jupyterlab/debugger/blob/master/examples/index.ipynb)**. A basic overview of the debugging console
 
 * **[Using the Python Language Server Protocol (LSP)](https://github.com/jupyter-lsp/jupyterlab-lsp/blob/master/examples/Python.ipynb)**. The LSP provides many useful features, including syntax highlighting and linting, auto-completion, tools for refactoring, documentation links etc. This notebook provides an overview of what's available 
 
 * **[Configure pylint](https://github.com/NIVANorge/dstoolkit_cookbook/blob/master/notebooks/configure_pylint.md)**. Filter and control warning messages generated by pylint
